<agm-map class="posts-map"
  [latitude]="defaultMapConfig.lat"
  [longitude]="defaultMapConfig.long"
  [zoom]="defaultMapConfig.zoom"
  (mapDblClick)="onDoubleClick($event)">

  <agm-marker class="posts-map__item"
    *ngFor="let post of (posts$ | async)"
    [iconUrl]="defaultMapConfig.customIcon"
    [latitude]="post.lat"
    [longitude]="post.long"
    (markerClick)="onMarkerClick(post)">
  </agm-marker>
  
  <agm-marker class="posts-map__item--new"
    *ngIf="newMarker?.lat && newMarker?.long"
    [iconUrl]="defaultMapConfig.customAddIcon"
    [latitude]="newMarker?.lat"
    [longitude]="newMarker?.long">
  </agm-marker>

</agm-map>